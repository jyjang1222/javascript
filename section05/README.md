# 자스의 작동방식과 발전 과정 및 버전 차이점

## ES란

- ES란 ecmascript를 의미하며 브라우저에 자바스크립트 문법의 표준 지침을 제공한다.
- 이를 통해 브라우저는 최신 자바스크립트의 기능을 자동업데이트 해준다.
- 현재 주로 쓰이는 버전은 ES6 이다.

## 변수의 종류와 차이점

### var

- 변수를 만들때 사용한다.
- ES5 까지 주로 쓰이던 변수이다.
- 함수 또는 전역스코프이다.
- 동일한 이름의 변수를 재선언 가능하다.

### let

- 변수를 만들때 사용한다.
- ES6에 새로 도입된 변수이다.
- 블럭 스코프이다.
- 동일한 이름의 변수를 재선언 불가하다.

### const

- 상수를 만들때 사용한다.
- ES6에 새로 도입된 상수이다.
- 블럭 스코프이다.
- 동일한 이름의 변수를 재선언 불가하다.

### var과 let & const차이점

```javascript
for (var i = 0; i < 2; i++) {}
console.log(i); //정상출력
for (let j = 0; j < 2; j++) {}
console.log(j); //에러발생
```

- var은 함수외에서 선언되면 전역스코프이다.
- let과 const는 **블럭 스코프**라는 개념을 사용해서 if문이나 for문 같은 중괄호가 있는 블럭에서 변수가 선언되면 해당 블럭 내에서만 쓰일 수 있다.
- 키워드를 사용하지않고 변수를 선언하면 브라우저 내에서 자동으로 var을 추가한다.

## 호이스팅(Hoisting)

```javascript
// 에러가 발생하지 않고 undefined가 출력된다.
console.log(userName);
var userName = 'jun';

// userName을 초기화하기전에 참조할 수 없다고 에러가 뜬다.
console.log(userName);
let userName = 'jun';
```

- 자바스크립트에는 **호이스팅**이라는 기능이 있어서 스크립트를 로드할때 전체 스크립트를 확인해서 함수를 찾은 뒤 자동으로 등록해서 다른 언어와 달리 함수선언을 밑에서 해도 호출을 코드 위에서 하는 것이 가능하다.
- 변수도 함수와 마찬가지로 로드될때 파일 맨위로 가져오며 이 동작은 브라우저내에서 보이지 않게 동작한다.
- var변수는 밑의 초기화는 그대로 둬서 디폴트인 undefined로 초기화 되고 에러가 발생하지 않게 된다.
- const와 let도 파일맨위로 가져오는 것은 마찬가지지만 var과 달리 디폴트인 undefined로 초기화 하지 않아서 에러가 발생한다.

## 엄격모드

```javascript
'use strict';
userName = 'jun';
console.log(userName); //엄격모드를 사용해 오류가 발생
```

- 파일 내에 **'use strict'** 라는 문자열을 추가해서 엄격모드를 사용할 수 있다.
- 엄격모드를 사용하면 몇몇 기능을 비활성화하여 키워드를 사용하지않고 변수를 선언하는 등 좋지않은 행위를 막을 수 있다.
- 이상한 코드를 사용하지 않는다면 엄격모드를 쓸 일은 없다..

## 자바스크립트의 작동 방식

1. 브라우저에서는 자바스크립트 엔진을 이용해서 코드의 분석(parsing)과 실행(execution)이 이루어진다.
2. 자바스크립트 엔진은 내장된 인터프리터와 컴파일러 두 부분으로 나뉘어 코드 분석과 실행을 한다.
3. 인터프리터는 코드를 분석하고 실행하기 좋은 바이트코드(bytecode)로 변경한 후에 스크립트 실행을 한다.
4. 인터프리터는 이 바이트코드를 스크립트를 실행할 때에 한줄씩 실행한다.
5. 바이트코드(Bytecode)는 고급 언어로 작성된 소스 코드를 가상머신이 이해할 수 있는 중간 코드로 컴파일한 것을 말한다.
6. 또 바이트코드로 변경된 소스 코드는 컴파일러로 전달된다.
7. 컴파일러는 이 바이트코드를 더욱 빨리 실행이 가능한 기계어(machine code)로 변경한다.
8. 자바스크립트 엔진은 이전 실행과 현재 실행시 코드의 달라진 점이 없다면 재컴파일링을 거치지 않고 컴파일된 코드를 재사용한다.
9. 브라우저는 API와 같이 자바스크립트 코드에서 사용할 수 있는 빌트인 기능도 지원한다.
